{"name":"gen","tables":[{"name":"public.disaster_reports","type":"BASE TABLE","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('disaster_reports_id_seq'::regclass)"},{"name":"title","type":"varchar(255)","nullable":true},{"name":"description","type":"text","nullable":true},{"name":"location","type":"varchar(100)","nullable":true},{"name":"created_at","type":"timestamp without time zone","nullable":true,"default":"CURRENT_TIMESTAMP"}],"indexes":[{"name":"disaster_reports_pkey","def":"CREATE UNIQUE INDEX disaster_reports_pkey ON public.disaster_reports USING btree (id)","table":"public.disaster_reports","columns":["id"]},{"name":"idx_disaster_reports_title_trgm","def":"CREATE INDEX idx_disaster_reports_title_trgm ON public.disaster_reports USING gin (title gin_trgm_ops)","table":"public.disaster_reports","columns":["title"]},{"name":"idx_disaster_reports_description_trgm","def":"CREATE INDEX idx_disaster_reports_description_trgm ON public.disaster_reports USING gin (description gin_trgm_ops)","table":"public.disaster_reports","columns":["description"]},{"name":"idx_disaster_reports_title_bigm","def":"CREATE INDEX idx_disaster_reports_title_bigm ON public.disaster_reports USING gin (title gin_bigm_ops)","table":"public.disaster_reports","columns":["title"]},{"name":"idx_disaster_reports_description_bigm","def":"CREATE INDEX idx_disaster_reports_description_bigm ON public.disaster_reports USING gin (description gin_bigm_ops)","table":"public.disaster_reports","columns":["description"]}],"constraints":[{"name":"disaster_reports_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.disaster_reports","referenced_table":"","columns":["id"]}]},{"name":"public.login_history","type":"BASE TABLE","comment":"ログイン履歴テーブル - ユーザーのログイン履歴を管理","columns":[{"name":"id","type":"bigint","nullable":false,"comment":"ログイン履歴ID（主キー、自動掲番）"},{"name":"user_id","type":"uuid","nullable":true,"comment":"ユーザーID（外部キー、ユーザーテーブルのID）"},{"name":"username","type":"varchar(100)","nullable":true,"comment":"ユーザー名（ユーザーが削除されても履歴を残すため）"},{"name":"login_type","type":"varchar(50)","nullable":false,"comment":"ログインタイプ（成功: success、失敗: failed、ロック: locked、多要素認証必要: mfa_required）"},{"name":"ip_address","type":"inet","nullable":true,"comment":"ユーザーのIPアドレス"},{"name":"user_agent","type":"text","nullable":true,"comment":"ユーザーエージェント情報（ブラウザやデバイス情報）"},{"name":"failure_reason","type":"varchar(255)","nullable":true,"comment":"ログイン失敗理由（失敗時のみ）"},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":"CURRENT_TIMESTAMP","comment":"ログイン履歴の作成日時"}],"indexes":[{"name":"login_history_pkey","def":"CREATE UNIQUE INDEX login_history_pkey ON public.login_history USING btree (id)","table":"public.login_history","columns":["id"]},{"name":"idx_login_history_user_id","def":"CREATE INDEX idx_login_history_user_id ON public.login_history USING btree (user_id)","table":"public.login_history","columns":["user_id"]},{"name":"idx_login_history_username","def":"CREATE INDEX idx_login_history_username ON public.login_history USING btree (username)","table":"public.login_history","columns":["username"]}],"constraints":[{"name":"login_history_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.login_history","referenced_table":"","columns":["id"]}]},{"name":"public.organizations","type":"BASE TABLE","comment":"組織マスタ - 農林水産省、地方農政局、都道府県などの組織情報を管理","columns":[{"name":"id","type":"bigint","nullable":false,"comment":"組織ID（主キー、自動掲番）"},{"name":"name","type":"varchar(64)","nullable":false,"comment":"組織名"},{"name":"type","type":"varchar(50)","nullable":false,"comment":"組織の種類（MAFF: 農林水産本省、regional: 地方農政局、prefecture: 都道府県）"},{"name":"parent_id","type":"integer","nullable":true,"comment":"親組織ID（階層構造を持つための外部キー）"},{"name":"sort_order","type":"integer","nullable":true,"default":"0","comment":"表示順序"},{"name":"is_active","type":"boolean","nullable":true,"default":"true","comment":"有効フラグ（TRUE: 有効、FALSE: 無効）"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP"},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP"}],"indexes":[{"name":"organizations_pkey","def":"CREATE UNIQUE INDEX organizations_pkey ON public.organizations USING btree (id)","table":"public.organizations","columns":["id"]},{"name":"idx_organizations_name","def":"CREATE INDEX idx_organizations_name ON public.organizations USING btree (name)","table":"public.organizations","columns":["name"]},{"name":"idx_organizations_type","def":"CREATE INDEX idx_organizations_type ON public.organizations USING btree (type)","table":"public.organizations","columns":["type"]},{"name":"idx_organizations_parent_id","def":"CREATE INDEX idx_organizations_parent_id ON public.organizations USING btree (parent_id)","table":"public.organizations","columns":["parent_id"]},{"name":"idx_organizations_sort_order","def":"CREATE INDEX idx_organizations_sort_order ON public.organizations USING btree (sort_order)","table":"public.organizations","columns":["sort_order"]},{"name":"idx_organizations_is_active","def":"CREATE INDEX idx_organizations_is_active ON public.organizations USING btree (is_active)","table":"public.organizations","columns":["is_active"]}],"constraints":[{"name":"organizations_type_check","type":"CHECK","def":"CHECK (((type)::text = ANY ((ARRAY['MAFF'::character varying, 'regional'::character varying, 'prefecture'::character varying])::text[])))","table":"public.organizations","referenced_table":"","columns":["type"]},{"name":"organizations_parent_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (parent_id) REFERENCES organizations(id)","table":"public.organizations","referenced_table":"organizations","columns":["parent_id"],"referenced_columns":["id"]},{"name":"organizations_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.organizations","referenced_table":"","columns":["id"]}],"triggers":[{"name":"update_organizations_updated_at","def":"CREATE TRIGGER update_organizations_updated_at BEFORE UPDATE ON public.organizations FOR EACH ROW EXECUTE FUNCTION update_master_updated_at_column()"}]},{"name":"public.users","type":"BASE TABLE","comment":"ユーザーテーブル - システムのユーザー情報を管理","columns":[{"name":"id","type":"uuid","nullable":false,"default":"gen_random_uuid()","comment":"ユーザーID（主キー、自動掲番）"},{"name":"name","type":"varchar(255)","nullable":false,"comment":"ユーザー名"},{"name":"email","type":"varchar(255)","nullable":false,"comment":"メールアドレス（ユニーク制約あり）"},{"name":"password","type":"varchar(255)","nullable":false,"comment":"ハッシュ化されたパスワード"},{"name":"organization_id","type":"integer","nullable":true,"comment":"組織ID（外部キー、組織マスタのID）"},{"name":"role_id","type":"smallint","nullable":false,"comment":"役割ID（外部キー、役割マスタのID）"},{"name":"is_active","type":"boolean","nullable":false,"default":"true","comment":"有効フラグ（TRUE: 有効、FALSE: 無効）"},{"name":"email_verified","type":"boolean","nullable":false,"default":"false","comment":"メールアドレスの確認済みフラグ（TRUE: 確認済み、FALSE: 未確認）"},{"name":"mfa_enabled","type":"boolean","nullable":true,"default":"false","comment":"多要素認証の有効フラグ（TRUE: 有効、FALSE: 無効）"},{"name":"mfa_secret","type":"varchar(255)","nullable":true,"comment":"多要素認証のシークレットキー（TOTP用）"},{"name":"password_reset_token","type":"varchar(255)","nullable":true,"comment":"パスワードリセット用のトークン"},{"name":"password_reset_expires","type":"timestamp with time zone","nullable":true,"comment":"パスワードリセットトークンの有効期限"},{"name":"last_password_change","type":"timestamp with time zone","nullable":true,"default":"CURRENT_TIMESTAMP","comment":"最後のパスワード変更日時"},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":"CURRENT_TIMESTAMP","comment":"ユーザー作成日時"},{"name":"updated_at","type":"timestamp with time zone","nullable":true,"default":"CURRENT_TIMESTAMP","comment":"ユーザー情報の最終更新日時"},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"comment":"ユーザー削除日時（論理削除用、NULLの場合は削除されていない）"}],"indexes":[{"name":"users_pkey","def":"CREATE UNIQUE INDEX users_pkey ON public.users USING btree (id)","table":"public.users","columns":["id"]},{"name":"users_email_key","def":"CREATE UNIQUE INDEX users_email_key ON public.users USING btree (email)","table":"public.users","columns":["email"]},{"name":"idx_users_id_hash","def":"CREATE INDEX idx_users_id_hash ON public.users USING hash (id)","table":"public.users","columns":["id"]},{"name":"idx_users_email","def":"CREATE INDEX idx_users_email ON public.users USING btree (email)","table":"public.users","columns":["email"]},{"name":"idx_users_organization_id","def":"CREATE INDEX idx_users_organization_id ON public.users USING btree (organization_id)","table":"public.users","columns":["organization_id"]},{"name":"idx_users_role_id","def":"CREATE INDEX idx_users_role_id ON public.users USING btree (role_id)","table":"public.users","columns":["role_id"]},{"name":"idx_users_is_active","def":"CREATE INDEX idx_users_is_active ON public.users USING btree (is_active)","table":"public.users","columns":["is_active"]}],"constraints":[{"name":"users_organization_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE SET NULL","table":"public.users","referenced_table":"organizations","columns":["organization_id"],"referenced_columns":["id"]},{"name":"users_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.users","referenced_table":"","columns":["id"]},{"name":"users_email_key","type":"UNIQUE","def":"UNIQUE (email)","table":"public.users","referenced_table":"","columns":["email"]}]},{"name":"public.user_sessions","type":"BASE TABLE","comment":"ユーザーセッションテーブル - ユーザーのログインセッション情報を管理","columns":[{"name":"id","type":"bigint","nullable":false,"comment":"セッションID（主キー、自動掲番）"},{"name":"session_id","type":"varchar(255)","nullable":false,"comment":"セッション識別子（ユニーク制約あり）"},{"name":"user_id","type":"uuid","nullable":false,"comment":"ユーザーID（外部キー、ユーザーテーブルのID）"},{"name":"ip_address","type":"inet","nullable":true,"comment":"ユーザーのIPアドレス"},{"name":"user_agent","type":"text","nullable":true,"comment":"ユーザーエージェント情報（ブラウザやデバイス情報）"},{"name":"is_active","type":"boolean","nullable":true,"default":"true","comment":"セッションの有効フラグ（TRUE: 有効、FALSE: 無効）"},{"name":"expires_at","type":"timestamp with time zone","nullable":false,"comment":"セッションの有効期限"},{"name":"last_activity","type":"timestamp with time zone","nullable":true,"default":"CURRENT_TIMESTAMP","comment":"最後のアクティビティ日時（セッションの最終アクティビティ）"},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":"CURRENT_TIMESTAMP","comment":"セッション作成日時"}],"indexes":[{"name":"user_sessions_pkey","def":"CREATE UNIQUE INDEX user_sessions_pkey ON public.user_sessions USING btree (id)","table":"public.user_sessions","columns":["id"]},{"name":"user_sessions_session_id_key","def":"CREATE UNIQUE INDEX user_sessions_session_id_key ON public.user_sessions USING btree (session_id)","table":"public.user_sessions","columns":["session_id"]},{"name":"idx_user_sessions_user_id","def":"CREATE INDEX idx_user_sessions_user_id ON public.user_sessions USING btree (user_id)","table":"public.user_sessions","columns":["user_id"]},{"name":"idx_user_sessions_session_id","def":"CREATE INDEX idx_user_sessions_session_id ON public.user_sessions USING btree (session_id)","table":"public.user_sessions","columns":["session_id"]}],"constraints":[{"name":"user_sessions_user_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES users(id)","table":"public.user_sessions","referenced_table":"users","columns":["user_id"],"referenced_columns":["id"]},{"name":"user_sessions_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.user_sessions","referenced_table":"","columns":["id"]},{"name":"user_sessions_session_id_key","type":"UNIQUE","def":"UNIQUE (session_id)","table":"public.user_sessions","referenced_table":"","columns":["session_id"]}]},{"name":"public.login_histories","type":"BASE TABLE","comment":"ログイン履歴テーブル - ユーザーのログイン履歴を管理","columns":[{"name":"id","type":"bigint","nullable":false,"comment":"ログイン履歴ID（主キー、自動掲番）"},{"name":"user_id","type":"uuid","nullable":true,"comment":"ユーザーID（外部キー、ユーザーテーブルのID）"},{"name":"username","type":"varchar(100)","nullable":true,"comment":"ユーザー名（ユーザーが削除されても履歴を残すため）"},{"name":"login_type","type":"varchar(50)","nullable":false,"comment":"ログインタイプ（成功: success、失敗: failed、ロック: locked、多要素認証必要: mfa_required）"},{"name":"ip_address","type":"inet","nullable":true,"comment":"ユーザーのIPアドレス"},{"name":"user_agent","type":"text","nullable":true,"comment":"ユーザーエージェント情報（ブラウザやデバイス情報）"},{"name":"failure_reason","type":"varchar(255)","nullable":true,"comment":"ログイン失敗理由（失敗時のみ）"},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":"CURRENT_TIMESTAMP","comment":"ログイン履歴の作成日時"}],"indexes":[{"name":"login_histories_pkey","def":"CREATE UNIQUE INDEX login_histories_pkey ON public.login_histories USING btree (id)","table":"public.login_histories","columns":["id"]},{"name":"idx_login_histories_user_id","def":"CREATE INDEX idx_login_histories_user_id ON public.login_histories USING btree (user_id)","table":"public.login_histories","columns":["user_id"]},{"name":"idx_login_histories_username","def":"CREATE INDEX idx_login_histories_username ON public.login_histories USING btree (username)","table":"public.login_histories","columns":["username"]}],"constraints":[{"name":"login_histories_user_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES users(id)","table":"public.login_histories","referenced_table":"users","columns":["user_id"],"referenced_columns":["id"]},{"name":"login_histories_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.login_histories","referenced_table":"","columns":["id"]}]},{"name":"public.operation_logs","type":"BASE TABLE","comment":"監査ログテーブル - システムの操作履歴を管理","columns":[{"name":"id","type":"bigint","nullable":false,"comment":"監査ログID（主キー、自動掲番）"},{"name":"user_id","type":"uuid","nullable":true,"comment":"ユーザーID（外部キー、ユーザーテーブルのID）"},{"name":"action","type":"varchar(100)","nullable":false,"comment":"実行されたアクション（例: create, update, delete）"},{"name":"resource_type","type":"varchar(100)","nullable":true,"comment":"リソースの種類（例: user, organization, role）"},{"name":"resource_id","type":"varchar(100)","nullable":true,"comment":"リソースID（アクションが適用されたリソースのID）"},{"name":"endpoint","type":"varchar(500)","nullable":true,"comment":"APIエンドポイント（例: /api/users, /api/organizations）"},{"name":"method","type":"varchar(10)","nullable":true,"comment":"HTTPメソッド（例: GET, POST, PUT, DELETE）"},{"name":"ip_address","type":"inet","nullable":true,"comment":"ユーザーのIPアドレス"},{"name":"user_agent","type":"text","nullable":true,"comment":"ユーザーエージェント情報（ブラウザやデバイス情報）"},{"name":"request_data","type":"jsonb","nullable":true,"comment":"リクエストデータ（JSON形式）"},{"name":"response_status","type":"integer","nullable":true,"comment":"レスポンスステータスコード（例: 200, 404, 500）"},{"name":"execution_time_ms","type":"integer","nullable":true,"comment":"リクエストの実行時間（ミリ秒単位）"},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":"CURRENT_TIMESTAMP","comment":"監査ログの作成日時"}],"indexes":[{"name":"operation_logs_pkey","def":"CREATE UNIQUE INDEX operation_logs_pkey ON public.operation_logs USING btree (id)","table":"public.operation_logs","columns":["id"]},{"name":"idx_operation_logs_user_id","def":"CREATE INDEX idx_operation_logs_user_id ON public.operation_logs USING btree (user_id)","table":"public.operation_logs","columns":["user_id"]},{"name":"idx_operation_logs_action","def":"CREATE INDEX idx_operation_logs_action ON public.operation_logs USING btree (action)","table":"public.operation_logs","columns":["action"]},{"name":"idx_operation_logs_resource_type","def":"CREATE INDEX idx_operation_logs_resource_type ON public.operation_logs USING btree (resource_type)","table":"public.operation_logs","columns":["resource_type"]},{"name":"idx_operation_logs_resource_id","def":"CREATE INDEX idx_operation_logs_resource_id ON public.operation_logs USING btree (resource_id)","table":"public.operation_logs","columns":["resource_id"]},{"name":"idx_operation_logs_endpoint","def":"CREATE INDEX idx_operation_logs_endpoint ON public.operation_logs USING btree (endpoint)","table":"public.operation_logs","columns":["endpoint"]},{"name":"idx_operation_logs_method","def":"CREATE INDEX idx_operation_logs_method ON public.operation_logs USING btree (method)","table":"public.operation_logs","columns":["method"]},{"name":"idx_operation_logs_request_data","def":"CREATE INDEX idx_operation_logs_request_data ON public.operation_logs USING btree (request_data)","table":"public.operation_logs","columns":["request_data"]},{"name":"idx_operation_logs_response_status","def":"CREATE INDEX idx_operation_logs_response_status ON public.operation_logs USING btree (response_status)","table":"public.operation_logs","columns":["response_status"]},{"name":"idx_operation_logs_execution_time_ms","def":"CREATE INDEX idx_operation_logs_execution_time_ms ON public.operation_logs USING btree (execution_time_ms)","table":"public.operation_logs","columns":["execution_time_ms"]},{"name":"idx_operation_logs_created_at","def":"CREATE INDEX idx_operation_logs_created_at ON public.operation_logs USING btree (created_at)","table":"public.operation_logs","columns":["created_at"]}],"constraints":[{"name":"operation_logs_user_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES users(id)","table":"public.operation_logs","referenced_table":"users","columns":["user_id"],"referenced_columns":["id"]},{"name":"operation_logs_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.operation_logs","referenced_table":"","columns":["id"]}]},{"name":"public.prefectures","type":"BASE TABLE","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('prefectures_id_seq'::regclass)","comment":"都道府県名"},{"name":"code","type":"varchar(2)","nullable":false},{"name":"name","type":"varchar(10)","nullable":false,"comment":"都道府県名"}],"indexes":[{"name":"prefectures_pkey","def":"CREATE UNIQUE INDEX prefectures_pkey ON public.prefectures USING btree (id)","table":"public.prefectures","columns":["id"]},{"name":"prefectures_code_key","def":"CREATE UNIQUE INDEX prefectures_code_key ON public.prefectures USING btree (code)","table":"public.prefectures","columns":["code"]},{"name":"prefectures_name_key","def":"CREATE UNIQUE INDEX prefectures_name_key ON public.prefectures USING btree (name)","table":"public.prefectures","columns":["name"]},{"name":"idx_prefectures_name","def":"CREATE INDEX idx_prefectures_name ON public.prefectures USING btree (name)","table":"public.prefectures","columns":["name"]},{"name":"idx_prefectures_code","def":"CREATE INDEX idx_prefectures_code ON public.prefectures USING btree (code)","table":"public.prefectures","columns":["code"]}],"constraints":[{"name":"prefectures_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.prefectures","referenced_table":"","columns":["id"]},{"name":"prefectures_code_key","type":"UNIQUE","def":"UNIQUE (code)","table":"public.prefectures","referenced_table":"","columns":["code"]},{"name":"prefectures_name_key","type":"UNIQUE","def":"UNIQUE (name)","table":"public.prefectures","referenced_table":"","columns":["name"]}]},{"name":"public.disasters","type":"BASE TABLE","comment":"農業災害情報管理テーブル - 各種災害の詳細情報を格納","columns":[{"name":"id","type":"uuid","nullable":false,"default":"gen_random_uuid()","comment":"災害ID - 主キー"},{"name":"name","type":"varchar(100)","nullable":false,"comment":"災害名 - 災害の名称"},{"name":"municipality_id","type":"integer","nullable":false,"comment":"自治体ID - 関連する自治体のID"},{"name":"occurred_at","type":"timestamp with time zone","nullable":false,"comment":"発生日時 - 災害が発生した日時"},{"name":"summary","type":"text","nullable":false,"comment":"被害概要 - 災害による被害の詳細説明"},{"name":"work_category_id","type":"bigint","nullable":false,"comment":"工種区分ID - 関連する作業カテゴリのID"},{"name":"status","type":"disaster_status","nullable":false,"default":"'pending'::disaster_status","comment":"状態 - pending(未着手), under_review(審査中), in_progress(対応中), completed(完了)のいずれか"},{"name":"affected_area_size","type":"numeric(10,2)","nullable":true,"comment":"被害面積 - ヘクタール (ha) 単位での被害エリアの広さ"},{"name":"estimated_damage_amount","type":"numeric(15,2)","nullable":true,"comment":"被害推定金額 - 円単位での被害総額"},{"name":"latitude","type":"numeric(10,8)","nullable":true,"comment":"緯度 - 災害発生地点の緯度座標"},{"name":"longitude","type":"numeric(11,8)","nullable":true,"comment":"経度 - 災害発生地点の経度座標"},{"name":"address","type":"text","nullable":true,"comment":"住所 - Google Maps APIから取得した住所情報"},{"name":"place_id","type":"varchar(255)","nullable":true,"comment":"Google Place ID - Google Maps APIの場所識別子"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時 - レコード作成日時"},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時 - レコード最終更新日時"},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"comment":"削除日時 - 論理削除用のタイムスタンプ"}],"indexes":[{"name":"disasters_pkey","def":"CREATE UNIQUE INDEX disasters_pkey ON public.disasters USING btree (id)","table":"public.disasters","columns":["id"]},{"name":"idx_disasters_municipality_id","def":"CREATE INDEX idx_disasters_municipality_id ON public.disasters USING btree (municipality_id)","table":"public.disasters","columns":["municipality_id"]},{"name":"idx_disasters_work_category_id","def":"CREATE INDEX idx_disasters_work_category_id ON public.disasters USING btree (work_category_id)","table":"public.disasters","columns":["work_category_id"]},{"name":"idx_disasters_status","def":"CREATE INDEX idx_disasters_status ON public.disasters USING btree (status)","table":"public.disasters","columns":["status"]},{"name":"idx_disasters_occurred_at","def":"CREATE INDEX idx_disasters_occurred_at ON public.disasters USING btree (occurred_at)","table":"public.disasters","columns":["occurred_at"]},{"name":"idx_disasters_latitude_longitude","def":"CREATE INDEX idx_disasters_latitude_longitude ON public.disasters USING btree (latitude, longitude)","table":"public.disasters","columns":["latitude","longitude"]},{"name":"idx_disasters_place_id","def":"CREATE INDEX idx_disasters_place_id ON public.disasters USING btree (place_id)","table":"public.disasters","columns":["place_id"]}],"constraints":[{"name":"disasters_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.disasters","referenced_table":"","columns":["id"]}]},{"name":"public.timelines","type":"BASE TABLE","comment":"災害タイムライン管理テーブル - 各災害のイベント履歴を格納","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('timelines_id_seq'::regclass)","comment":"タイムラインID - 主キー"},{"name":"disaster_id","type":"uuid","nullable":false,"comment":"災害ID - 関連する災害のID"},{"name":"event_name","type":"varchar(255)","nullable":false,"comment":"イベント名 - 発生したイベントの名称"},{"name":"event_time","type":"timestamp without time zone","nullable":false,"comment":"イベント発生日時 - イベントが発生した日時"},{"name":"description","type":"text","nullable":false,"comment":"イベント説明 - イベントの詳細な説明"},{"name":"severity","type":"varchar(50)","nullable":true,"comment":"イベントの深刻度 - 低, 中, 高などの深刻度"},{"name":"created_at","type":"timestamp without time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時 - レコード作成日時"},{"name":"updated_at","type":"timestamp without time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時 - レコード最終更新日時"},{"name":"deleted_at","type":"timestamp without time zone","nullable":true,"comment":"削除日時 - 論理削除用のタイムスタンプ"}],"indexes":[{"name":"timelines_pkey","def":"CREATE UNIQUE INDEX timelines_pkey ON public.timelines USING btree (id)","table":"public.timelines","columns":["id"]},{"name":"idx_timelines_disaster_id","def":"CREATE INDEX idx_timelines_disaster_id ON public.timelines USING btree (disaster_id)","table":"public.timelines","columns":["disaster_id"]},{"name":"idx_timelines_event_time","def":"CREATE INDEX idx_timelines_event_time ON public.timelines USING btree (event_time)","table":"public.timelines","columns":["event_time"]}],"constraints":[{"name":"timelines_disaster_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (disaster_id) REFERENCES disasters(id) ON DELETE CASCADE","table":"public.timelines","referenced_table":"disasters","columns":["disaster_id"],"referenced_columns":["id"]},{"name":"timelines_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.timelines","referenced_table":"","columns":["id"]}]},{"name":"public.disaster_documents","type":"BASE TABLE","comment":"災害関連書類管理テーブル - 各災害に関連する文書や画像ファイルを格納","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('disaster_documents_id_seq'::regclass)","comment":"書類ID - 主キー"},{"name":"disaster_id","type":"uuid","nullable":false,"comment":"災害ID - 関連する災害のID"},{"name":"title","type":"varchar(255)","nullable":false,"comment":"書類タイトル - 文書の名称"},{"name":"document_type","type":"varchar(50)","nullable":false,"comment":"書類種別 - 報告書, 写真, 申請書, 証明書など"},{"name":"file_path","type":"varchar(500)","nullable":false,"comment":"ファイルパス - ファイルの保存場所"},{"name":"mime_type","type":"varchar(100)","nullable":false,"comment":"MIMEタイプ - ファイルの形式を示すMIMEタイプ"},{"name":"description","type":"text","nullable":true,"comment":"説明 - ファイルの説明や備考"},{"name":"uploaded_by","type":"varchar(255)","nullable":false,"comment":"アップロード者 - ファイルをアップロードしたユーザー名"},{"name":"is_public","type":"boolean","nullable":false,"default":"false","comment":"公開フラグ - 一般公開するかどうか"},{"name":"upload_date","type":"timestamp without time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"アップロード日時 - ファイルがアップロードされた日時"},{"name":"created_at","type":"timestamp without time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時 - レコード作成日時"},{"name":"updated_at","type":"timestamp without time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時 - レコード最終更新日時"},{"name":"deleted_at","type":"timestamp without time zone","nullable":true,"comment":"削除日時 - 論理削除用のタイムスタンプ"}],"indexes":[{"name":"disaster_documents_pkey","def":"CREATE UNIQUE INDEX disaster_documents_pkey ON public.disaster_documents USING btree (id)","table":"public.disaster_documents","columns":["id"]},{"name":"idx_disaster_documents_disaster_id","def":"CREATE INDEX idx_disaster_documents_disaster_id ON public.disaster_documents USING btree (disaster_id)","table":"public.disaster_documents","columns":["disaster_id"]},{"name":"idx_disaster_documents_document_type","def":"CREATE INDEX idx_disaster_documents_document_type ON public.disaster_documents USING btree (document_type)","table":"public.disaster_documents","columns":["document_type"]},{"name":"idx_disaster_documents_upload_date","def":"CREATE INDEX idx_disaster_documents_upload_date ON public.disaster_documents USING btree (upload_date)","table":"public.disaster_documents","columns":["upload_date"]}],"constraints":[{"name":"disaster_documents_disaster_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (disaster_id) REFERENCES disasters(id) ON DELETE CASCADE","table":"public.disaster_documents","referenced_table":"disasters","columns":["disaster_id"],"referenced_columns":["id"]},{"name":"disaster_documents_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.disaster_documents","referenced_table":"","columns":["id"]}]},{"name":"public.support_applications","type":"BASE TABLE","comment":"支援申請管理テーブル - 災害時の農業被害に対する支援申請を格納","columns":[{"name":"application_id","type":"varchar(10)","nullable":false,"comment":"申請ID - 主キー（例：A001, A002...）"},{"name":"application_date","type":"date","nullable":false,"comment":"申請日 - 申請が提出された日付"},{"name":"applicant_name","type":"varchar(100)","nullable":false,"comment":"申請者名 - 個人名または法人名"},{"name":"disaster_name","type":"varchar(200)","nullable":false,"comment":"災害名 - 対象となる災害の名称"},{"name":"requested_amount","type":"bigint","nullable":false,"comment":"申請金額 - 申請する支援金額（円）"},{"name":"status","type":"varchar(20)","nullable":false,"default":"'審査中'::character varying","comment":"ステータス - 申請の処理状況（審査中、書類確認中、承認済、完了、支払処理中、却下）"},{"name":"reviewed_at","type":"timestamp without time zone","nullable":true,"comment":"審査完了日時 - 申請の審査が完了した日時"},{"name":"approved_at","type":"timestamp without time zone","nullable":true,"comment":"承認日時 - 申請が承認された日時"},{"name":"completed_at","type":"timestamp without time zone","nullable":true,"comment":"処理完了日時 - 支援金の支払いなど全ての処理が完了した日時"},{"name":"notes","type":"text","nullable":true,"comment":"備考 - 申請に関する備考やメモ"},{"name":"created_at","type":"timestamp without time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時 - レコード作成日時"},{"name":"updated_at","type":"timestamp without time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時 - レコード最終更新日時"}],"indexes":[{"name":"support_applications_pkey","def":"CREATE UNIQUE INDEX support_applications_pkey ON public.support_applications USING btree (application_id)","table":"public.support_applications","columns":["application_id"]},{"name":"idx_support_applications_status","def":"CREATE INDEX idx_support_applications_status ON public.support_applications USING btree (status)","table":"public.support_applications","columns":["status"]},{"name":"idx_support_applications_application_date","def":"CREATE INDEX idx_support_applications_application_date ON public.support_applications USING btree (application_date)","table":"public.support_applications","columns":["application_date"]},{"name":"idx_support_applications_disaster_name","def":"CREATE INDEX idx_support_applications_disaster_name ON public.support_applications USING btree (disaster_name)","table":"public.support_applications","columns":["disaster_name"]}],"constraints":[{"name":"support_applications_requested_amount_check","type":"CHECK","def":"CHECK ((requested_amount \u003e= 0))","table":"public.support_applications","referenced_table":"","columns":["requested_amount"]},{"name":"support_applications_status_check","type":"CHECK","def":"CHECK (((status)::text = ANY ((ARRAY['審査中'::character varying, '書類確認中'::character varying, '承認済'::character varying, '完了'::character varying, '支払処理中'::character varying, '却下'::character varying])::text[])))","table":"public.support_applications","referenced_table":"","columns":["status"]},{"name":"support_applications_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (application_id)","table":"public.support_applications","referenced_table":"","columns":["application_id"]}],"triggers":[{"name":"update_support_applications_updated_at","def":"CREATE TRIGGER update_support_applications_updated_at BEFORE UPDATE ON public.support_applications FOR EACH ROW EXECUTE FUNCTION update_updated_at_column()"}]},{"name":"public.disaster_types","type":"BASE TABLE","comment":"災害種別マスタテーブル - 災害の種類を管理","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('disaster_types_id_seq'::regclass)","comment":"災害種別ID - 主キー"},{"name":"name","type":"varchar(50)","nullable":false,"comment":"災害種別名 - 洪水, 地滑り, 雹害, 干ばつ, 風害, 地震, 霜害, 病害虫など"},{"name":"description","type":"text","nullable":true,"comment":"説明 - 災害種別の詳細説明"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時 - レコード作成日時"},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時 - レコード最終更新日時"}],"indexes":[{"name":"disaster_types_pkey","def":"CREATE UNIQUE INDEX disaster_types_pkey ON public.disaster_types USING btree (id)","table":"public.disaster_types","columns":["id"]},{"name":"disaster_types_name_key","def":"CREATE UNIQUE INDEX disaster_types_name_key ON public.disaster_types USING btree (name)","table":"public.disaster_types","columns":["name"]},{"name":"idx_disaster_types_name","def":"CREATE INDEX idx_disaster_types_name ON public.disaster_types USING btree (name)","table":"public.disaster_types","columns":["name"]}],"constraints":[{"name":"disaster_types_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.disaster_types","referenced_table":"","columns":["id"]},{"name":"disaster_types_name_key","type":"UNIQUE","def":"UNIQUE (name)","table":"public.disaster_types","referenced_table":"","columns":["name"]}],"triggers":[{"name":"update_disaster_types_updated_at","def":"CREATE TRIGGER update_disaster_types_updated_at BEFORE UPDATE ON public.disaster_types FOR EACH ROW EXECUTE FUNCTION update_master_updated_at_column()"}]},{"name":"public.damage_levels","type":"BASE TABLE","comment":"被害程度マスタテーブル - 被害の程度を管理","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('damage_levels_id_seq'::regclass)","comment":"被害程度ID - 主キー"},{"name":"name","type":"varchar(50)","nullable":false,"comment":"被害程度名 - 軽微, 中程度, 深刻, 甚大など"},{"name":"description","type":"text","nullable":true,"comment":"説明 - 被害程度の詳細説明"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時 - レコード作成日時"},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時 - レコード最終更新日時"}],"indexes":[{"name":"damage_levels_pkey","def":"CREATE UNIQUE INDEX damage_levels_pkey ON public.damage_levels USING btree (id)","table":"public.damage_levels","columns":["id"]},{"name":"damage_levels_name_key","def":"CREATE UNIQUE INDEX damage_levels_name_key ON public.damage_levels USING btree (name)","table":"public.damage_levels","columns":["name"]},{"name":"idx_damage_levels_name","def":"CREATE INDEX idx_damage_levels_name ON public.damage_levels USING btree (name)","table":"public.damage_levels","columns":["name"]}],"constraints":[{"name":"damage_levels_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.damage_levels","referenced_table":"","columns":["id"]},{"name":"damage_levels_name_key","type":"UNIQUE","def":"UNIQUE (name)","table":"public.damage_levels","referenced_table":"","columns":["name"]}],"triggers":[{"name":"update_damage_levels_updated_at","def":"CREATE TRIGGER update_damage_levels_updated_at BEFORE UPDATE ON public.damage_levels FOR EACH ROW EXECUTE FUNCTION update_master_updated_at_column()"}]},{"name":"public.facility_types","type":"BASE TABLE","comment":"施設種別マスタテーブル - 農業用施設の種類を管理","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('facility_types_id_seq'::regclass)","comment":"施設種別ID - 主キー"},{"name":"name","type":"varchar(50)","nullable":false,"comment":"施設種別名 - 水路, ため池, 農道, ビニールハウスなど"},{"name":"description","type":"text","nullable":true,"comment":"説明 - 施設種別の詳細説明"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時 - レコード作成日時"},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時 - レコード最終更新日時"}],"indexes":[{"name":"facility_types_pkey","def":"CREATE UNIQUE INDEX facility_types_pkey ON public.facility_types USING btree (id)","table":"public.facility_types","columns":["id"]},{"name":"facility_types_name_key","def":"CREATE UNIQUE INDEX facility_types_name_key ON public.facility_types USING btree (name)","table":"public.facility_types","columns":["name"]},{"name":"idx_facility_types_name","def":"CREATE INDEX idx_facility_types_name ON public.facility_types USING btree (name)","table":"public.facility_types","columns":["name"]}],"constraints":[{"name":"facility_types_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.facility_types","referenced_table":"","columns":["id"]},{"name":"facility_types_name_key","type":"UNIQUE","def":"UNIQUE (name)","table":"public.facility_types","referenced_table":"","columns":["name"]}],"triggers":[{"name":"update_facility_types_updated_at","def":"CREATE TRIGGER update_facility_types_updated_at BEFORE UPDATE ON public.facility_types FOR EACH ROW EXECUTE FUNCTION update_master_updated_at_column()"}]},{"name":"public.roles","type":"BASE TABLE","comment":"役割マスタテーブル - ユーザーの役割を管理","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('roles_id_seq'::regclass)","comment":"役割ID - 主キー"},{"name":"name","type":"varchar(50)","nullable":false,"comment":"役割名 - 管理者, 一般ユーザー, 査定員など"},{"name":"description","type":"text","nullable":true,"comment":"説明 - 役割の詳細説明と権限"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時 - レコード作成日時"},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時 - レコード最終更新日時"}],"indexes":[{"name":"roles_pkey","def":"CREATE UNIQUE INDEX roles_pkey ON public.roles USING btree (id)","table":"public.roles","columns":["id"]},{"name":"roles_name_key","def":"CREATE UNIQUE INDEX roles_name_key ON public.roles USING btree (name)","table":"public.roles","columns":["name"]},{"name":"idx_roles_name","def":"CREATE INDEX idx_roles_name ON public.roles USING btree (name)","table":"public.roles","columns":["name"]}],"constraints":[{"name":"roles_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.roles","referenced_table":"","columns":["id"]},{"name":"roles_name_key","type":"UNIQUE","def":"UNIQUE (name)","table":"public.roles","referenced_table":"","columns":["name"]}],"triggers":[{"name":"update_roles_updated_at","def":"CREATE TRIGGER update_roles_updated_at BEFORE UPDATE ON public.roles FOR EACH ROW EXECUTE FUNCTION update_master_updated_at_column()"}]},{"name":"public.user_roles","type":"BASE TABLE","comment":"ユーザーロール関連テーブル - ユーザーと役割の関連を管理","columns":[{"name":"user_id","type":"uuid","nullable":false,"comment":"ユーザーID - ユーザーテーブルの外部キー"},{"name":"role_id","type":"integer","nullable":false,"comment":"役割ID - 役割テーブルの外部キー"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時 - レコード作成日時"},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時 - レコード最終更新日時"}],"indexes":[{"name":"user_roles_pkey","def":"CREATE UNIQUE INDEX user_roles_pkey ON public.user_roles USING btree (user_id, role_id)","table":"public.user_roles","columns":["user_id","role_id"]},{"name":"idx_user_roles_user_id","def":"CREATE INDEX idx_user_roles_user_id ON public.user_roles USING btree (user_id)","table":"public.user_roles","columns":["user_id"]},{"name":"idx_user_roles_role_id","def":"CREATE INDEX idx_user_roles_role_id ON public.user_roles USING btree (role_id)","table":"public.user_roles","columns":["role_id"]}],"constraints":[{"name":"user_roles_user_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE","table":"public.user_roles","referenced_table":"users","columns":["user_id"],"referenced_columns":["id"]},{"name":"user_roles_role_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (role_id) REFERENCES roles(id) ON DELETE CASCADE","table":"public.user_roles","referenced_table":"roles","columns":["role_id"],"referenced_columns":["id"]},{"name":"user_roles_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (user_id, role_id)","table":"public.user_roles","referenced_table":"","columns":["user_id","role_id"]}],"triggers":[{"name":"update_user_roles_updated_at","def":"CREATE TRIGGER update_user_roles_updated_at BEFORE UPDATE ON public.user_roles FOR EACH ROW EXECUTE FUNCTION update_master_updated_at_column()"}]},{"name":"public.user_organizations","type":"BASE TABLE","comment":"ユーザー組織関連テーブル - ユーザーと組織の関連を管理","columns":[{"name":"user_id","type":"uuid","nullable":false,"comment":"ユーザーID - ユーザーテーブルの外部キー"},{"name":"organization_id","type":"integer","nullable":false,"comment":"組織ID - 組織テーブルの外部キー"},{"name":"is_primary","type":"boolean","nullable":false,"default":"false","comment":"主所属フラグ - ユーザーの主所属組織かどうか"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時 - レコード作成日時"},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時 - レコード最終更新日時"}],"indexes":[{"name":"user_organizations_pkey","def":"CREATE UNIQUE INDEX user_organizations_pkey ON public.user_organizations USING btree (user_id, organization_id)","table":"public.user_organizations","columns":["user_id","organization_id"]},{"name":"idx_user_organizations_user_id","def":"CREATE INDEX idx_user_organizations_user_id ON public.user_organizations USING btree (user_id)","table":"public.user_organizations","columns":["user_id"]},{"name":"idx_user_organizations_organization_id","def":"CREATE INDEX idx_user_organizations_organization_id ON public.user_organizations USING btree (organization_id)","table":"public.user_organizations","columns":["organization_id"]}],"constraints":[{"name":"user_organizations_organization_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE","table":"public.user_organizations","referenced_table":"organizations","columns":["organization_id"],"referenced_columns":["id"]},{"name":"user_organizations_user_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE","table":"public.user_organizations","referenced_table":"users","columns":["user_id"],"referenced_columns":["id"]},{"name":"user_organizations_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (user_id, organization_id)","table":"public.user_organizations","referenced_table":"","columns":["user_id","organization_id"]}],"triggers":[{"name":"update_user_organizations_updated_at","def":"CREATE TRIGGER update_user_organizations_updated_at BEFORE UPDATE ON public.user_organizations FOR EACH ROW EXECUTE FUNCTION update_master_updated_at_column()"}]},{"name":"public.assessments","type":"BASE TABLE","comment":"査定テーブル - 災害被害の査定情報を管理","columns":[{"name":"id","type":"bigint","nullable":false,"comment":"査定ID - 主キー"},{"name":"disaster_id","type":"uuid","nullable":false,"comment":"災害ID - 査定対象の災害ID"},{"name":"user_id","type":"uuid","nullable":false,"comment":"査定者ID - 査定を行ったユーザーのID"},{"name":"assessment_date","type":"date","nullable":false,"comment":"査定日 - 査定が行われた日付"},{"name":"assessment_type","type":"varchar(50)","nullable":false,"comment":"査定種別 - 現地査定、リモート査定など"},{"name":"status","type":"varchar(30)","nullable":false,"default":"'進行中'::character varying","comment":"状態 - 査定の進行状況"},{"name":"assessment_method","type":"varchar(50)","nullable":false,"comment":"査定方法 - 査定の実施方法"},{"name":"assessment_summary","type":"text","nullable":true,"comment":"査定概要 - 査定結果の概要"},{"name":"damage_amount","type":"numeric(15,2)","nullable":true,"comment":"被害金額 - 査定された被害金額"},{"name":"approved_amount","type":"numeric(15,2)","nullable":true,"comment":"承認金額 - 承認された支援金額"},{"name":"approval_date","type":"timestamp with time zone","nullable":true,"comment":"承認日時 - 査定が承認された日時"},{"name":"approved_by","type":"uuid","nullable":true,"comment":"承認者ID - 査定を承認したユーザーのID"},{"name":"notes","type":"text","nullable":true,"comment":"備考 - 査定に関する備考やメモ"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時 - レコード作成日時"},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時 - レコード最終更新日時"},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"comment":"削除日時 - 論理削除用のタイムスタンプ"}],"indexes":[{"name":"assessments_pkey","def":"CREATE UNIQUE INDEX assessments_pkey ON public.assessments USING btree (id)","table":"public.assessments","columns":["id"]},{"name":"idx_assessments_disaster_id","def":"CREATE INDEX idx_assessments_disaster_id ON public.assessments USING btree (disaster_id)","table":"public.assessments","columns":["disaster_id"]},{"name":"idx_assessments_user_id","def":"CREATE INDEX idx_assessments_user_id ON public.assessments USING btree (user_id)","table":"public.assessments","columns":["user_id"]},{"name":"idx_assessments_assessment_date","def":"CREATE INDEX idx_assessments_assessment_date ON public.assessments USING btree (assessment_date)","table":"public.assessments","columns":["assessment_date"]},{"name":"idx_assessments_status","def":"CREATE INDEX idx_assessments_status ON public.assessments USING btree (status)","table":"public.assessments","columns":["status"]}],"constraints":[{"name":"assessments_assessment_method_check","type":"CHECK","def":"CHECK (((assessment_method)::text = ANY ((ARRAY['現地査定'::character varying, 'リモート査定'::character varying, '書類査定'::character varying, '緊急査定'::character varying])::text[])))","table":"public.assessments","referenced_table":"","columns":["assessment_method"]},{"name":"assessments_status_check","type":"CHECK","def":"CHECK (((status)::text = ANY ((ARRAY['準備中'::character varying, '進行中'::character varying, '完了'::character varying, '差戻し'::character varying, '承認済'::character varying])::text[])))","table":"public.assessments","referenced_table":"","columns":["status"]},{"name":"assessments_approved_by_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (approved_by) REFERENCES users(id)","table":"public.assessments","referenced_table":"users","columns":["approved_by"],"referenced_columns":["id"]},{"name":"assessments_user_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES users(id)","table":"public.assessments","referenced_table":"users","columns":["user_id"],"referenced_columns":["id"]},{"name":"assessments_disaster_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (disaster_id) REFERENCES disasters(id) ON DELETE CASCADE","table":"public.assessments","referenced_table":"disasters","columns":["disaster_id"],"referenced_columns":["id"]},{"name":"assessments_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.assessments","referenced_table":"","columns":["id"]}],"triggers":[{"name":"update_assessments_updated_at","def":"CREATE TRIGGER update_assessments_updated_at BEFORE UPDATE ON public.assessments FOR EACH ROW EXECUTE FUNCTION update_master_updated_at_column()"}]},{"name":"public.assessment_items","type":"BASE TABLE","comment":"査定項目テーブル - 査定の詳細項目を管理","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('assessment_items_id_seq'::regclass)","comment":"査定項目ID - 主キー"},{"name":"assessment_id","type":"bigint","nullable":false,"comment":"査定ID - 関連する査定のID"},{"name":"item_name","type":"varchar(100)","nullable":false,"comment":"項目名 - 査定項目の名称"},{"name":"facility_type_id","type":"integer","nullable":true,"comment":"施設種別ID - 被害を受けた施設の種別"},{"name":"damage_level_id","type":"integer","nullable":true,"comment":"被害程度ID - 被害の程度"},{"name":"damage_description","type":"text","nullable":false,"comment":"被害説明 - 被害状況の詳細説明"},{"name":"damage_amount","type":"numeric(15,2)","nullable":false,"comment":"被害金額 - 項目ごとの被害金額"},{"name":"approved_amount","type":"numeric(15,2)","nullable":true,"comment":"承認金額 - 項目ごとの承認金額"},{"name":"location_latitude","type":"numeric(10,8)","nullable":true,"comment":"位置（緯度） - 被害箇所の緯度"},{"name":"location_longitude","type":"numeric(11,8)","nullable":true,"comment":"位置（経度） - 被害箇所の経度"},{"name":"notes","type":"text","nullable":true,"comment":"備考 - 査定項目に関する備考やメモ"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時 - レコード作成日時"},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時 - レコード最終更新日時"},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"comment":"削除日時 - 論理削除用のタイムスタンプ"}],"indexes":[{"name":"assessment_items_pkey","def":"CREATE UNIQUE INDEX assessment_items_pkey ON public.assessment_items USING btree (id)","table":"public.assessment_items","columns":["id"]},{"name":"idx_assessment_items_assessment_id","def":"CREATE INDEX idx_assessment_items_assessment_id ON public.assessment_items USING btree (assessment_id)","table":"public.assessment_items","columns":["assessment_id"]},{"name":"idx_assessment_items_facility_type_id","def":"CREATE INDEX idx_assessment_items_facility_type_id ON public.assessment_items USING btree (facility_type_id)","table":"public.assessment_items","columns":["facility_type_id"]},{"name":"idx_assessment_items_damage_level_id","def":"CREATE INDEX idx_assessment_items_damage_level_id ON public.assessment_items USING btree (damage_level_id)","table":"public.assessment_items","columns":["damage_level_id"]}],"constraints":[{"name":"fk_assessment_items_damage_level","type":"FOREIGN KEY","def":"FOREIGN KEY (damage_level_id) REFERENCES damage_levels(id)","table":"public.assessment_items","referenced_table":"damage_levels","columns":["damage_level_id"],"referenced_columns":["id"]},{"name":"fk_assessment_items_facility_type","type":"FOREIGN KEY","def":"FOREIGN KEY (facility_type_id) REFERENCES facility_types(id)","table":"public.assessment_items","referenced_table":"facility_types","columns":["facility_type_id"],"referenced_columns":["id"]},{"name":"assessment_items_assessment_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (assessment_id) REFERENCES assessments(id) ON DELETE CASCADE","table":"public.assessment_items","referenced_table":"assessments","columns":["assessment_id"],"referenced_columns":["id"]},{"name":"assessment_items_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.assessment_items","referenced_table":"","columns":["id"]}],"triggers":[{"name":"update_assessment_items_updated_at","def":"CREATE TRIGGER update_assessment_items_updated_at BEFORE UPDATE ON public.assessment_items FOR EACH ROW EXECUTE FUNCTION update_master_updated_at_column()"}]},{"name":"public.assessment_comments","type":"BASE TABLE","comment":"査定コメントテーブル - 査定に関するコメントを管理","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('assessment_comments_id_seq'::regclass)","comment":"コメントID - 主キー"},{"name":"assessment_id","type":"integer","nullable":false,"comment":"査定ID - 関連する査定のID"},{"name":"user_id","type":"uuid","nullable":false,"comment":"ユーザーID - コメントを投稿したユーザーのID"},{"name":"comment_text","type":"text","nullable":false,"comment":"コメント本文 - コメントの内容"},{"name":"comment_time","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"コメント時間 - コメントが投稿された時間"},{"name":"parent_comment_id","type":"integer","nullable":true,"comment":"親コメントID - 返信先のコメントID（スレッド構造用）"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時 - レコード作成日時"},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時 - レコード最終更新日時"},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"comment":"削除日時 - 論理削除用のタイムスタンプ"}],"indexes":[{"name":"assessment_comments_pkey","def":"CREATE UNIQUE INDEX assessment_comments_pkey ON public.assessment_comments USING btree (id)","table":"public.assessment_comments","columns":["id"]},{"name":"idx_assessment_comments_assessment_id","def":"CREATE INDEX idx_assessment_comments_assessment_id ON public.assessment_comments USING btree (assessment_id)","table":"public.assessment_comments","columns":["assessment_id"]},{"name":"idx_assessment_comments_user_id","def":"CREATE INDEX idx_assessment_comments_user_id ON public.assessment_comments USING btree (user_id)","table":"public.assessment_comments","columns":["user_id"]},{"name":"idx_assessment_comments_parent_comment_id","def":"CREATE INDEX idx_assessment_comments_parent_comment_id ON public.assessment_comments USING btree (parent_comment_id)","table":"public.assessment_comments","columns":["parent_comment_id"]}],"constraints":[{"name":"assessment_comments_user_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES users(id)","table":"public.assessment_comments","referenced_table":"users","columns":["user_id"],"referenced_columns":["id"]},{"name":"assessment_comments_assessment_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (assessment_id) REFERENCES assessments(id) ON DELETE CASCADE","table":"public.assessment_comments","referenced_table":"assessments","columns":["assessment_id"],"referenced_columns":["id"]},{"name":"assessment_comments_parent_comment_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (parent_comment_id) REFERENCES assessment_comments(id)","table":"public.assessment_comments","referenced_table":"assessment_comments","columns":["parent_comment_id"],"referenced_columns":["id"]},{"name":"assessment_comments_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.assessment_comments","referenced_table":"","columns":["id"]}],"triggers":[{"name":"update_assessment_comments_updated_at","def":"CREATE TRIGGER update_assessment_comments_updated_at BEFORE UPDATE ON public.assessment_comments FOR EACH ROW EXECUTE FUNCTION update_master_updated_at_column()"}]},{"name":"public.gis_data","type":"BASE TABLE","comment":"GIS情報テーブル - 地理空間情報を管理","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('gis_data_id_seq'::regclass)","comment":"GISデータID - 主キー"},{"name":"disaster_id","type":"uuid","nullable":false,"comment":"災害ID - 関連する災害のID"},{"name":"data_type","type":"varchar(50)","nullable":false,"comment":"データ種別 - GISデータの種類"},{"name":"name","type":"varchar(100)","nullable":false,"comment":"名称 - GISデータの名称"},{"name":"description","type":"text","nullable":true,"comment":"説明 - GISデータの説明"},{"name":"geometry_type","type":"varchar(20)","nullable":false,"comment":"ジオメトリ種別 - 地理データの形状タイプ"},{"name":"geometry_data","type":"text","nullable":false,"comment":"ジオメトリデータ - GeoJSON形式の地理データ"},{"name":"properties","type":"jsonb","nullable":true,"comment":"プロパティ - 追加のプロパティ情報（JSON形式）"},{"name":"created_by","type":"uuid","nullable":false,"comment":"作成者ID - データを作成したユーザーのID"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時 - レコード作成日時"},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時 - レコード最終更新日時"},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"comment":"削除日時 - 論理削除用のタイムスタンプ"}],"indexes":[{"name":"gis_data_pkey","def":"CREATE UNIQUE INDEX gis_data_pkey ON public.gis_data USING btree (id)","table":"public.gis_data","columns":["id"]},{"name":"idx_gis_data_disaster_id","def":"CREATE INDEX idx_gis_data_disaster_id ON public.gis_data USING btree (disaster_id)","table":"public.gis_data","columns":["disaster_id"]},{"name":"idx_gis_data_data_type","def":"CREATE INDEX idx_gis_data_data_type ON public.gis_data USING btree (data_type)","table":"public.gis_data","columns":["data_type"]},{"name":"idx_gis_data_created_by","def":"CREATE INDEX idx_gis_data_created_by ON public.gis_data USING btree (created_by)","table":"public.gis_data","columns":["created_by"]}],"constraints":[{"name":"gis_data_data_type_check","type":"CHECK","def":"CHECK (((data_type)::text = ANY ((ARRAY['被害エリア'::character varying, '避難経路'::character varying, '施設位置'::character varying, 'リソース配置'::character varying, 'その他'::character varying])::text[])))","table":"public.gis_data","referenced_table":"","columns":["data_type"]},{"name":"gis_data_geometry_type_check","type":"CHECK","def":"CHECK (((geometry_type)::text = ANY ((ARRAY['POINT'::character varying, 'LINESTRING'::character varying, 'POLYGON'::character varying, 'MULTIPOINT'::character varying, 'MULTILINESTRING'::character varying, 'MULTIPOLYGON'::character varying])::text[])))","table":"public.gis_data","referenced_table":"","columns":["geometry_type"]},{"name":"gis_data_created_by_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (created_by) REFERENCES users(id)","table":"public.gis_data","referenced_table":"users","columns":["created_by"],"referenced_columns":["id"]},{"name":"gis_data_disaster_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (disaster_id) REFERENCES disasters(id) ON DELETE CASCADE","table":"public.gis_data","referenced_table":"disasters","columns":["disaster_id"],"referenced_columns":["id"]},{"name":"gis_data_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.gis_data","referenced_table":"","columns":["id"]}],"triggers":[{"name":"update_gis_data_updated_at","def":"CREATE TRIGGER update_gis_data_updated_at BEFORE UPDATE ON public.gis_data FOR EACH ROW EXECUTE FUNCTION update_master_updated_at_column()"}]},{"name":"public.notifications","type":"BASE TABLE","comment":"通知テーブル - ユーザーへの通知を管理","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('notifications_id_seq'::regclass)","comment":"通知ID - 主キー"},{"name":"user_id","type":"uuid","nullable":false,"comment":"ユーザーID - 通知の宛先ユーザーID"},{"name":"title","type":"varchar(200)","nullable":false,"comment":"タイトル - 通知のタイトル"},{"name":"message","type":"text","nullable":false,"comment":"メッセージ - 通知の本文"},{"name":"notification_type","type":"varchar(50)","nullable":false,"comment":"通知種別 - 通知の種類"},{"name":"related_entity_type","type":"varchar(50)","nullable":true,"comment":"関連エンティティ種別 - 通知に関連するエンティティの種類"},{"name":"related_entity_id","type":"varchar(100)","nullable":true,"comment":"関連エンティティID - 通知に関連するエンティティのID"},{"name":"is_read","type":"boolean","nullable":false,"default":"false","comment":"既読フラグ - 通知が既読かどうか"},{"name":"read_at","type":"timestamp with time zone","nullable":true,"comment":"既読日時 - 通知が既読になった日時"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時 - レコード作成日時"},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時 - レコード最終更新日時"},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"comment":"削除日時 - 論理削除用のタイムスタンプ"}],"indexes":[{"name":"notifications_pkey","def":"CREATE UNIQUE INDEX notifications_pkey ON public.notifications USING btree (id)","table":"public.notifications","columns":["id"]},{"name":"idx_notifications_user_id","def":"CREATE INDEX idx_notifications_user_id ON public.notifications USING btree (user_id)","table":"public.notifications","columns":["user_id"]},{"name":"idx_notifications_is_read","def":"CREATE INDEX idx_notifications_is_read ON public.notifications USING btree (is_read)","table":"public.notifications","columns":["is_read"]},{"name":"idx_notifications_notification_type","def":"CREATE INDEX idx_notifications_notification_type ON public.notifications USING btree (notification_type)","table":"public.notifications","columns":["notification_type"]},{"name":"idx_notifications_created_at","def":"CREATE INDEX idx_notifications_created_at ON public.notifications USING btree (created_at)","table":"public.notifications","columns":["created_at"]}],"constraints":[{"name":"notifications_notification_type_check","type":"CHECK","def":"CHECK (((notification_type)::text = ANY ((ARRAY['システム'::character varying, '災害情報'::character varying, '査定'::character varying, '申請'::character varying, 'リマインダー'::character varying, 'その他'::character varying])::text[])))","table":"public.notifications","referenced_table":"","columns":["notification_type"]},{"name":"notifications_user_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE","table":"public.notifications","referenced_table":"users","columns":["user_id"],"referenced_columns":["id"]},{"name":"notifications_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.notifications","referenced_table":"","columns":["id"]}],"triggers":[{"name":"update_notifications_updated_at","def":"CREATE TRIGGER update_notifications_updated_at BEFORE UPDATE ON public.notifications FOR EACH ROW EXECUTE FUNCTION update_master_updated_at_column()"}]},{"name":"public.facility_equipment","type":"BASE TABLE","comment":"施設設備マスタテーブル - 施設設備の情報を管理","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('facility_equipment_id_seq'::regclass)","comment":"施設設備ID - 主キー"},{"name":"name","type":"varchar(100)","nullable":false,"comment":"施設設備名 - 施設設備の名称"},{"name":"facility_type_id","type":"integer","nullable":false,"comment":"施設種別ID - 施設設備の種別"},{"name":"model_number","type":"varchar(100)","nullable":true,"comment":"型番 - 施設設備の型番"},{"name":"manufacturer","type":"varchar(100)","nullable":true,"comment":"メーカー - 施設設備のメーカー"},{"name":"installation_date","type":"date","nullable":true,"comment":"設置日 - 施設設備の設置日"},{"name":"status","type":"varchar(50)","nullable":false,"default":"'稼働中'::character varying","comment":"状態 - 施設設備の稼働状態"},{"name":"location_description","type":"text","nullable":true,"comment":"設置場所説明 - 施設設備の設置場所の説明"},{"name":"location_latitude","type":"numeric(10,8)","nullable":true,"comment":"位置（緯度） - 施設設備の緯度"},{"name":"location_longitude","type":"numeric(11,8)","nullable":true,"comment":"位置（経度） - 施設設備の経度"},{"name":"notes","type":"text","nullable":true,"comment":"備考 - 施設設備に関する備考やメモ"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"作成日時 - レコード作成日時"},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"更新日時 - レコード最終更新日時"},{"name":"deleted_at","type":"timestamp with time zone","nullable":true,"comment":"削除日時 - 論理削除用のタイムスタンプ"}],"indexes":[{"name":"facility_equipment_pkey","def":"CREATE UNIQUE INDEX facility_equipment_pkey ON public.facility_equipment USING btree (id)","table":"public.facility_equipment","columns":["id"]},{"name":"idx_facility_equipment_name","def":"CREATE INDEX idx_facility_equipment_name ON public.facility_equipment USING btree (name)","table":"public.facility_equipment","columns":["name"]},{"name":"idx_facility_equipment_facility_type_id","def":"CREATE INDEX idx_facility_equipment_facility_type_id ON public.facility_equipment USING btree (facility_type_id)","table":"public.facility_equipment","columns":["facility_type_id"]},{"name":"idx_facility_equipment_status","def":"CREATE INDEX idx_facility_equipment_status ON public.facility_equipment USING btree (status)","table":"public.facility_equipment","columns":["status"]}],"constraints":[{"name":"facility_equipment_status_check","type":"CHECK","def":"CHECK (((status)::text = ANY ((ARRAY['稼働中'::character varying, '点検中'::character varying, '故障中'::character varying, '廃止'::character varying])::text[])))","table":"public.facility_equipment","referenced_table":"","columns":["status"]},{"name":"facility_equipment_facility_type_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (facility_type_id) REFERENCES facility_types(id)","table":"public.facility_equipment","referenced_table":"facility_types","columns":["facility_type_id"],"referenced_columns":["id"]},{"name":"facility_equipment_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.facility_equipment","referenced_table":"","columns":["id"]}],"triggers":[{"name":"update_facility_equipment_updated_at","def":"CREATE TRIGGER update_facility_equipment_updated_at BEFORE UPDATE ON public.facility_equipment FOR EACH ROW EXECUTE FUNCTION update_master_updated_at_column()"}]},{"name":"public.municipalities","type":"BASE TABLE","comment":"市町村マスタテーブル - 全国の都道府県・市区町村の基本情報を管理","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('municipalities_id_seq'::regclass)","comment":"内部ID（主キー、自動採番）"},{"name":"prefecture_code","type":"varchar(2)","nullable":false,"comment":"都道府県ID（外部キー、都道府県マスタのID）"},{"name":"organization_code","type":"varchar(6)","nullable":false,"comment":"団体コード（総務省地方公共団体コード、6桁）"},{"name":"prefecture_name_kanji","type":"varchar(10)","nullable":false,"comment":"都道府県名（漢字表記）"},{"name":"municipality_name_kanji","type":"varchar(50)","nullable":false,"comment":"市区町村名（漢字表記）"},{"name":"prefecture_name_kana","type":"varchar(20)","nullable":false,"comment":"都道府県名（カタカナ表記）"},{"name":"municipality_name_kana","type":"varchar(100)","nullable":false,"comment":"市区町村名（カタカナ表記）"},{"name":"is_active","type":"boolean","nullable":false,"default":"true","comment":"有効フラグ（TRUE: 有効、FALSE: 無効）"}],"indexes":[{"name":"municipalities_pkey","def":"CREATE UNIQUE INDEX municipalities_pkey ON public.municipalities USING btree (id)","table":"public.municipalities","columns":["id"]},{"name":"municipalities_organization_code_key","def":"CREATE UNIQUE INDEX municipalities_organization_code_key ON public.municipalities USING btree (organization_code)","table":"public.municipalities","columns":["organization_code"]},{"name":"idx_municipalities_prefecture_id","def":"CREATE INDEX idx_municipalities_prefecture_id ON public.municipalities USING btree (prefecture_code)","table":"public.municipalities","columns":["prefecture_code"]},{"name":"idx_municipalities_organization_code","def":"CREATE INDEX idx_municipalities_organization_code ON public.municipalities USING btree (organization_code)","table":"public.municipalities","columns":["organization_code"]},{"name":"idx_municipalities_prefecture_kanji","def":"CREATE INDEX idx_municipalities_prefecture_kanji ON public.municipalities USING btree (prefecture_name_kanji)","table":"public.municipalities","columns":["prefecture_name_kanji"]},{"name":"idx_municipalities_municipality_kanji","def":"CREATE INDEX idx_municipalities_municipality_kanji ON public.municipalities USING btree (municipality_name_kanji)","table":"public.municipalities","columns":["municipality_name_kanji"]},{"name":"idx_municipalities_pref_muni_kanji","def":"CREATE INDEX idx_municipalities_pref_muni_kanji ON public.municipalities USING btree (prefecture_name_kanji, municipality_name_kanji)","table":"public.municipalities","columns":["prefecture_name_kanji","municipality_name_kanji"]},{"name":"idx_municipalities_prefecture_kana","def":"CREATE INDEX idx_municipalities_prefecture_kana ON public.municipalities USING btree (prefecture_name_kana)","table":"public.municipalities","columns":["prefecture_name_kana"]},{"name":"idx_municipalities_municipality_kana","def":"CREATE INDEX idx_municipalities_municipality_kana ON public.municipalities USING btree (municipality_name_kana)","table":"public.municipalities","columns":["municipality_name_kana"]},{"name":"idx_municipalities_is_active","def":"CREATE INDEX idx_municipalities_is_active ON public.municipalities USING btree (is_active)","table":"public.municipalities","columns":["is_active"]}],"constraints":[{"name":"municipalities_prefecture_code_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (prefecture_code) REFERENCES prefectures(code)","table":"public.municipalities","referenced_table":"prefectures","columns":["prefecture_code"],"referenced_columns":["code"]},{"name":"municipalities_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.municipalities","referenced_table":"","columns":["id"]},{"name":"municipalities_organization_code_key","type":"UNIQUE","def":"UNIQUE (organization_code)","table":"public.municipalities","referenced_table":"","columns":["organization_code"]}]},{"name":"public.work_categories","type":"BASE TABLE","comment":"工種区分マスタ - 工種区分の基本情報を管理","columns":[{"name":"id","type":"integer","nullable":false,"default":"nextval('work_categories_id_seq'::regclass)","comment":"工種区分ID（主キー、自動掲番）"},{"name":"category_name","type":"varchar(20)","nullable":false,"comment":"工種区分名（漢字表記）"},{"name":"icon_name","type":"varchar(50)","nullable":false,"comment":"アイコンファイル名"},{"name":"sort_order","type":"integer","nullable":false,"default":"0","comment":"表示順序"},{"name":"is_active","type":"boolean","nullable":false,"default":"true","comment":"有効フラグ（TRUE: 有効、FALSE: 無効）"}],"indexes":[{"name":"work_categories_pkey","def":"CREATE UNIQUE INDEX work_categories_pkey ON public.work_categories USING btree (id)","table":"public.work_categories","columns":["id"]},{"name":"idx_work_categories_category_name","def":"CREATE INDEX idx_work_categories_category_name ON public.work_categories USING btree (category_name)","table":"public.work_categories","columns":["category_name"]},{"name":"idx_work_categories_icon_name","def":"CREATE INDEX idx_work_categories_icon_name ON public.work_categories USING btree (icon_name)","table":"public.work_categories","columns":["icon_name"]},{"name":"idx_work_categories_sort_order","def":"CREATE INDEX idx_work_categories_sort_order ON public.work_categories USING btree (sort_order)","table":"public.work_categories","columns":["sort_order"]},{"name":"idx_work_categories_is_active","def":"CREATE INDEX idx_work_categories_is_active ON public.work_categories USING btree (is_active)","table":"public.work_categories","columns":["is_active"]}],"constraints":[{"name":"work_categories_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.work_categories","referenced_table":"","columns":["id"]}]},{"name":"public.unit_prices","type":"BASE TABLE","comment":"単価マスタ - 工種区分ごとの単価を管理","columns":[{"name":"id","type":"bigint","nullable":false,"comment":"単価ID（主キー、自動掲番）"},{"name":"category_id","type":"integer","nullable":false,"comment":"工種区分ID（外部キー、work_categoriesテーブルのID）"},{"name":"prefecture_code","type":"varchar(2)","nullable":false,"comment":"都道府県コード（外部キー、prefecturesテーブルのコード）"},{"name":"unit_price","type":"numeric(12,2)","nullable":false,"comment":"単価（円）"},{"name":"unit_type","type":"varchar(20)","nullable":false,"comment":"単位タイプ（\"per_meter\", \"per_sqm\", \"per_unit\"）"},{"name":"valid_from","type":"date","nullable":false,"default":"CURRENT_DATE","comment":"有効開始日"},{"name":"valid_to","type":"date","nullable":true,"comment":"有効終了日"},{"name":"notes","type":"text","nullable":true,"comment":"備考"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"now()","comment":"作成日時"},{"name":"updated_at","type":"timestamp with time zone","nullable":false,"default":"now()","comment":"更新日時"}],"indexes":[{"name":"unit_prices_pkey","def":"CREATE UNIQUE INDEX unit_prices_pkey ON public.unit_prices USING btree (id)","table":"public.unit_prices","columns":["id"]},{"name":"idx_unit_prices_category_id","def":"CREATE INDEX idx_unit_prices_category_id ON public.unit_prices USING btree (category_id)","table":"public.unit_prices","columns":["category_id"]},{"name":"idx_unit_prices_prefecture_code","def":"CREATE INDEX idx_unit_prices_prefecture_code ON public.unit_prices USING btree (prefecture_code)","table":"public.unit_prices","columns":["prefecture_code"]},{"name":"idx_unit_prices_unit_type","def":"CREATE INDEX idx_unit_prices_unit_type ON public.unit_prices USING btree (unit_type)","table":"public.unit_prices","columns":["unit_type"]},{"name":"idx_unit_prices_valid_from","def":"CREATE INDEX idx_unit_prices_valid_from ON public.unit_prices USING btree (valid_from)","table":"public.unit_prices","columns":["valid_from"]},{"name":"idx_unit_prices_valid_to","def":"CREATE INDEX idx_unit_prices_valid_to ON public.unit_prices USING btree (valid_to)","table":"public.unit_prices","columns":["valid_to"]}],"constraints":[{"name":"unit_prices_prefecture_code_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (prefecture_code) REFERENCES prefectures(code)","table":"public.unit_prices","referenced_table":"prefectures","columns":["prefecture_code"],"referenced_columns":["code"]},{"name":"unit_prices_category_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (category_id) REFERENCES work_categories(id)","table":"public.unit_prices","referenced_table":"work_categories","columns":["category_id"],"referenced_columns":["id"]},{"name":"unit_prices_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.unit_prices","referenced_table":"","columns":["id"]}]},{"name":"public.email_histories","type":"BASE TABLE","comment":"ユーザーのメール送信履歴を保存するテーブル","columns":[{"name":"id","type":"bigint","nullable":false,"default":"nextval('email_histories_id_seq'::regclass)","comment":"メール履歴ID"},{"name":"user_id","type":"uuid","nullable":false,"comment":"ユーザーID"},{"name":"email","type":"varchar(255)","nullable":false,"comment":"送信先メールアドレス"},{"name":"subject","type":"varchar(500)","nullable":false,"comment":"メール件名"},{"name":"email_type","type":"varchar(100)","nullable":false,"comment":"メール種別（welcome, verification, password_reset等）"},{"name":"provider","type":"varchar(50)","nullable":false,"comment":"メール送信プロバイダー（smtp, sendgrid等）"},{"name":"error_message","type":"text","nullable":true,"comment":"エラーメッセージ（送信失敗時）"},{"name":"sent_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"メール送信日時"},{"name":"status","type":"varchar(50)","nullable":false,"comment":"メール送信ステータス（sent, failed, pending等）"},{"name":"created_at","type":"timestamp with time zone","nullable":true,"default":"CURRENT_TIMESTAMP","comment":"作成日時"},{"name":"updated_at","type":"timestamp with time zone","nullable":true,"default":"CURRENT_TIMESTAMP","comment":"更新日時"}],"indexes":[{"name":"email_histories_pkey","def":"CREATE UNIQUE INDEX email_histories_pkey ON public.email_histories USING btree (id)","table":"public.email_histories","columns":["id"]},{"name":"idx_email_histories_user_id","def":"CREATE INDEX idx_email_histories_user_id ON public.email_histories USING btree (user_id)","table":"public.email_histories","columns":["user_id"]},{"name":"idx_email_histories_email","def":"CREATE INDEX idx_email_histories_email ON public.email_histories USING btree (email)","table":"public.email_histories","columns":["email"]},{"name":"idx_email_histories_status","def":"CREATE INDEX idx_email_histories_status ON public.email_histories USING btree (status)","table":"public.email_histories","columns":["status"]},{"name":"idx_email_histories_email_type","def":"CREATE INDEX idx_email_histories_email_type ON public.email_histories USING btree (email_type)","table":"public.email_histories","columns":["email_type"]},{"name":"idx_email_histories_sent_at","def":"CREATE INDEX idx_email_histories_sent_at ON public.email_histories USING btree (sent_at)","table":"public.email_histories","columns":["sent_at"]}],"constraints":[{"name":"email_histories_user_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE","table":"public.email_histories","referenced_table":"users","columns":["user_id"],"referenced_columns":["id"]},{"name":"email_histories_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.email_histories","referenced_table":"","columns":["id"]}]},{"name":"public.email_verification_tokens","type":"BASE TABLE","comment":"メール認証トークンを格納するテーブル","columns":[{"name":"id","type":"uuid","nullable":false,"default":"gen_random_uuid()","comment":"トークンの一意な識別子"},{"name":"user_id","type":"uuid","nullable":false,"comment":"関連するユーザーのID"},{"name":"token","type":"varchar(255)","nullable":false,"comment":"メール認証トークン"},{"name":"email","type":"varchar(255)","nullable":false,"comment":"認証対象のメールアドレス"},{"name":"expires_at","type":"timestamp with time zone","nullable":false,"comment":"トークンの有効期限"},{"name":"used_at","type":"timestamp with time zone","nullable":true,"comment":"トークンが使用された日時"},{"name":"is_used","type":"boolean","nullable":false,"default":"false","comment":"トークンが使用されたかどうか"},{"name":"created_at","type":"timestamp with time zone","nullable":false,"default":"CURRENT_TIMESTAMP","comment":"トークンの作成日時"}],"indexes":[{"name":"email_verification_tokens_pkey","def":"CREATE UNIQUE INDEX email_verification_tokens_pkey ON public.email_verification_tokens USING btree (id)","table":"public.email_verification_tokens","columns":["id"]},{"name":"email_verification_tokens_token_key","def":"CREATE UNIQUE INDEX email_verification_tokens_token_key ON public.email_verification_tokens USING btree (token)","table":"public.email_verification_tokens","columns":["token"]},{"name":"idx_email_verification_tokens_user_id","def":"CREATE INDEX idx_email_verification_tokens_user_id ON public.email_verification_tokens USING btree (user_id)","table":"public.email_verification_tokens","columns":["user_id"]},{"name":"idx_email_verification_tokens_token","def":"CREATE INDEX idx_email_verification_tokens_token ON public.email_verification_tokens USING btree (token)","table":"public.email_verification_tokens","columns":["token"]},{"name":"idx_email_verification_tokens_expires_at","def":"CREATE INDEX idx_email_verification_tokens_expires_at ON public.email_verification_tokens USING btree (expires_at)","table":"public.email_verification_tokens","columns":["expires_at"]}],"constraints":[{"name":"email_verification_tokens_user_id_fkey","type":"FOREIGN KEY","def":"FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE","table":"public.email_verification_tokens","referenced_table":"users","columns":["user_id"],"referenced_columns":["id"]},{"name":"email_verification_tokens_pkey","type":"PRIMARY KEY","def":"PRIMARY KEY (id)","table":"public.email_verification_tokens","referenced_table":"","columns":["id"]},{"name":"email_verification_tokens_token_key","type":"UNIQUE","def":"UNIQUE (token)","table":"public.email_verification_tokens","referenced_table":"","columns":["token"]}]}],"relations":[{"table":"public.organizations","columns":["parent_id"],"cardinality":"zero_or_more","parent_table":"public.organizations","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (parent_id) REFERENCES organizations(id)"},{"table":"public.users","columns":["organization_id"],"cardinality":"zero_or_more","parent_table":"public.organizations","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE SET NULL"},{"table":"public.user_sessions","columns":["user_id"],"cardinality":"zero_or_more","parent_table":"public.users","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (user_id) REFERENCES users(id)"},{"table":"public.login_histories","columns":["user_id"],"cardinality":"zero_or_more","parent_table":"public.users","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (user_id) REFERENCES users(id)"},{"table":"public.operation_logs","columns":["user_id"],"cardinality":"zero_or_more","parent_table":"public.users","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (user_id) REFERENCES users(id)"},{"table":"public.timelines","columns":["disaster_id"],"cardinality":"zero_or_more","parent_table":"public.disasters","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (disaster_id) REFERENCES disasters(id) ON DELETE CASCADE"},{"table":"public.disaster_documents","columns":["disaster_id"],"cardinality":"zero_or_more","parent_table":"public.disasters","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (disaster_id) REFERENCES disasters(id) ON DELETE CASCADE"},{"table":"public.user_roles","columns":["user_id"],"cardinality":"zero_or_more","parent_table":"public.users","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"},{"table":"public.user_roles","columns":["role_id"],"cardinality":"zero_or_more","parent_table":"public.roles","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (role_id) REFERENCES roles(id) ON DELETE CASCADE"},{"table":"public.user_organizations","columns":["organization_id"],"cardinality":"zero_or_more","parent_table":"public.organizations","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (organization_id) REFERENCES organizations(id) ON DELETE CASCADE"},{"table":"public.user_organizations","columns":["user_id"],"cardinality":"zero_or_more","parent_table":"public.users","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"},{"table":"public.assessments","columns":["approved_by"],"cardinality":"zero_or_more","parent_table":"public.users","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (approved_by) REFERENCES users(id)"},{"table":"public.assessments","columns":["user_id"],"cardinality":"zero_or_more","parent_table":"public.users","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (user_id) REFERENCES users(id)"},{"table":"public.assessments","columns":["disaster_id"],"cardinality":"zero_or_more","parent_table":"public.disasters","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (disaster_id) REFERENCES disasters(id) ON DELETE CASCADE"},{"table":"public.assessment_items","columns":["damage_level_id"],"cardinality":"zero_or_more","parent_table":"public.damage_levels","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (damage_level_id) REFERENCES damage_levels(id)"},{"table":"public.assessment_items","columns":["facility_type_id"],"cardinality":"zero_or_more","parent_table":"public.facility_types","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (facility_type_id) REFERENCES facility_types(id)"},{"table":"public.assessment_items","columns":["assessment_id"],"cardinality":"zero_or_more","parent_table":"public.assessments","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (assessment_id) REFERENCES assessments(id) ON DELETE CASCADE"},{"table":"public.assessment_comments","columns":["user_id"],"cardinality":"zero_or_more","parent_table":"public.users","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (user_id) REFERENCES users(id)"},{"table":"public.assessment_comments","columns":["assessment_id"],"cardinality":"zero_or_more","parent_table":"public.assessments","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (assessment_id) REFERENCES assessments(id) ON DELETE CASCADE"},{"table":"public.assessment_comments","columns":["parent_comment_id"],"cardinality":"zero_or_more","parent_table":"public.assessment_comments","parent_columns":["id"],"parent_cardinality":"zero_or_one","def":"FOREIGN KEY (parent_comment_id) REFERENCES assessment_comments(id)"},{"table":"public.gis_data","columns":["created_by"],"cardinality":"zero_or_more","parent_table":"public.users","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (created_by) REFERENCES users(id)"},{"table":"public.gis_data","columns":["disaster_id"],"cardinality":"zero_or_more","parent_table":"public.disasters","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (disaster_id) REFERENCES disasters(id) ON DELETE CASCADE"},{"table":"public.notifications","columns":["user_id"],"cardinality":"zero_or_more","parent_table":"public.users","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"},{"table":"public.facility_equipment","columns":["facility_type_id"],"cardinality":"zero_or_more","parent_table":"public.facility_types","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (facility_type_id) REFERENCES facility_types(id)"},{"table":"public.municipalities","columns":["prefecture_code"],"cardinality":"zero_or_more","parent_table":"public.prefectures","parent_columns":["code"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (prefecture_code) REFERENCES prefectures(code)"},{"table":"public.unit_prices","columns":["prefecture_code"],"cardinality":"zero_or_more","parent_table":"public.prefectures","parent_columns":["code"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (prefecture_code) REFERENCES prefectures(code)"},{"table":"public.unit_prices","columns":["category_id"],"cardinality":"zero_or_more","parent_table":"public.work_categories","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (category_id) REFERENCES work_categories(id)"},{"table":"public.email_histories","columns":["user_id"],"cardinality":"zero_or_more","parent_table":"public.users","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"},{"table":"public.email_verification_tokens","columns":["user_id"],"cardinality":"zero_or_more","parent_table":"public.users","parent_columns":["id"],"parent_cardinality":"exactly_one","def":"FOREIGN KEY (user_id) REFERENCES users(id) ON DELETE CASCADE"}],"functions":[{"name":"public.uuid_nil","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"public.uuid_ns_dns","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"public.uuid_ns_url","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"public.uuid_ns_oid","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"public.uuid_ns_x500","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"public.uuid_generate_v1","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"public.uuid_generate_v1mc","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"public.uuid_generate_v3","return_type":"uuid","arguments":"namespace uuid, name text","type":"FUNCTION"},{"name":"public.uuid_generate_v4","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"public.uuid_generate_v5","return_type":"uuid","arguments":"namespace uuid, name text","type":"FUNCTION"},{"name":"public.digest","return_type":"bytea","arguments":"text, text","type":"FUNCTION"},{"name":"public.digest","return_type":"bytea","arguments":"bytea, text","type":"FUNCTION"},{"name":"public.hmac","return_type":"bytea","arguments":"text, text, text","type":"FUNCTION"},{"name":"public.hmac","return_type":"bytea","arguments":"bytea, bytea, text","type":"FUNCTION"},{"name":"public.crypt","return_type":"text","arguments":"text, text","type":"FUNCTION"},{"name":"public.gen_salt","return_type":"text","arguments":"text","type":"FUNCTION"},{"name":"public.gen_salt","return_type":"text","arguments":"text, integer","type":"FUNCTION"},{"name":"public.encrypt","return_type":"bytea","arguments":"bytea, bytea, text","type":"FUNCTION"},{"name":"public.decrypt","return_type":"bytea","arguments":"bytea, bytea, text","type":"FUNCTION"},{"name":"public.encrypt_iv","return_type":"bytea","arguments":"bytea, bytea, bytea, text","type":"FUNCTION"},{"name":"public.decrypt_iv","return_type":"bytea","arguments":"bytea, bytea, bytea, text","type":"FUNCTION"},{"name":"public.gen_random_bytes","return_type":"bytea","arguments":"integer","type":"FUNCTION"},{"name":"public.gen_random_uuid","return_type":"uuid","arguments":"","type":"FUNCTION"},{"name":"public.pgp_sym_encrypt","return_type":"bytea","arguments":"text, text","type":"FUNCTION"},{"name":"public.pgp_sym_encrypt_bytea","return_type":"bytea","arguments":"bytea, text","type":"FUNCTION"},{"name":"public.pgp_sym_encrypt","return_type":"bytea","arguments":"text, text, text","type":"FUNCTION"},{"name":"public.pgp_sym_encrypt_bytea","return_type":"bytea","arguments":"bytea, text, text","type":"FUNCTION"},{"name":"public.pgp_sym_decrypt","return_type":"text","arguments":"bytea, text","type":"FUNCTION"},{"name":"public.pgp_sym_decrypt_bytea","return_type":"bytea","arguments":"bytea, text","type":"FUNCTION"},{"name":"public.pgp_sym_decrypt","return_type":"text","arguments":"bytea, text, text","type":"FUNCTION"},{"name":"public.pgp_sym_decrypt_bytea","return_type":"bytea","arguments":"bytea, text, text","type":"FUNCTION"},{"name":"public.pgp_pub_encrypt","return_type":"bytea","arguments":"text, bytea","type":"FUNCTION"},{"name":"public.pgp_pub_encrypt_bytea","return_type":"bytea","arguments":"bytea, bytea","type":"FUNCTION"},{"name":"public.pgp_pub_encrypt","return_type":"bytea","arguments":"text, bytea, text","type":"FUNCTION"},{"name":"public.pgp_pub_encrypt_bytea","return_type":"bytea","arguments":"bytea, bytea, text","type":"FUNCTION"},{"name":"public.pgp_pub_decrypt","return_type":"text","arguments":"bytea, bytea","type":"FUNCTION"},{"name":"public.pgp_pub_decrypt_bytea","return_type":"bytea","arguments":"bytea, bytea","type":"FUNCTION"},{"name":"public.pgp_pub_decrypt","return_type":"text","arguments":"bytea, bytea, text","type":"FUNCTION"},{"name":"public.pgp_pub_decrypt_bytea","return_type":"bytea","arguments":"bytea, bytea, text","type":"FUNCTION"},{"name":"public.pgp_pub_decrypt","return_type":"text","arguments":"bytea, bytea, text, text","type":"FUNCTION"},{"name":"public.pgp_pub_decrypt_bytea","return_type":"bytea","arguments":"bytea, bytea, text, text","type":"FUNCTION"},{"name":"public.pgp_key_id","return_type":"text","arguments":"bytea","type":"FUNCTION"},{"name":"public.armor","return_type":"text","arguments":"bytea","type":"FUNCTION"},{"name":"public.armor","return_type":"text","arguments":"bytea, text[], text[]","type":"FUNCTION"},{"name":"public.dearmor","return_type":"bytea","arguments":"text","type":"FUNCTION"},{"name":"public.pgp_armor_headers","return_type":"record","arguments":"text, OUT key text, OUT value text","type":"FUNCTION"},{"name":"public.set_limit","return_type":"float4","arguments":"real","type":"FUNCTION"},{"name":"public.show_limit","return_type":"float4","arguments":"","type":"FUNCTION"},{"name":"public.show_trgm","return_type":"_text","arguments":"text","type":"FUNCTION"},{"name":"public.similarity","return_type":"float4","arguments":"text, text","type":"FUNCTION"},{"name":"public.similarity_op","return_type":"bool","arguments":"text, text","type":"FUNCTION"},{"name":"public.word_similarity","return_type":"float4","arguments":"text, text","type":"FUNCTION"},{"name":"public.word_similarity_op","return_type":"bool","arguments":"text, text","type":"FUNCTION"},{"name":"public.word_similarity_commutator_op","return_type":"bool","arguments":"text, text","type":"FUNCTION"},{"name":"public.similarity_dist","return_type":"float4","arguments":"text, text","type":"FUNCTION"},{"name":"public.word_similarity_dist_op","return_type":"float4","arguments":"text, text","type":"FUNCTION"},{"name":"public.word_similarity_dist_commutator_op","return_type":"float4","arguments":"text, text","type":"FUNCTION"},{"name":"public.gtrgm_in","return_type":"gtrgm","arguments":"cstring","type":"FUNCTION"},{"name":"public.gtrgm_out","return_type":"cstring","arguments":"gtrgm","type":"FUNCTION"},{"name":"public.gtrgm_consistent","return_type":"bool","arguments":"internal, text, smallint, oid, internal","type":"FUNCTION"},{"name":"public.gtrgm_distance","return_type":"float8","arguments":"internal, text, smallint, oid, internal","type":"FUNCTION"},{"name":"public.gtrgm_compress","return_type":"internal","arguments":"internal","type":"FUNCTION"},{"name":"public.gtrgm_decompress","return_type":"internal","arguments":"internal","type":"FUNCTION"},{"name":"public.gtrgm_penalty","return_type":"internal","arguments":"internal, internal, internal","type":"FUNCTION"},{"name":"public.gtrgm_picksplit","return_type":"internal","arguments":"internal, internal","type":"FUNCTION"},{"name":"public.gtrgm_union","return_type":"gtrgm","arguments":"internal, internal","type":"FUNCTION"},{"name":"public.gtrgm_same","return_type":"internal","arguments":"gtrgm, gtrgm, internal","type":"FUNCTION"},{"name":"public.gin_extract_value_trgm","return_type":"internal","arguments":"text, internal","type":"FUNCTION"},{"name":"public.gin_extract_query_trgm","return_type":"internal","arguments":"text, internal, smallint, internal, internal, internal, internal","type":"FUNCTION"},{"name":"public.gin_trgm_consistent","return_type":"bool","arguments":"internal, smallint, text, integer, internal, internal, internal, internal","type":"FUNCTION"},{"name":"public.gin_trgm_triconsistent","return_type":"char","arguments":"internal, smallint, text, integer, internal, internal, internal","type":"FUNCTION"},{"name":"public.strict_word_similarity","return_type":"float4","arguments":"text, text","type":"FUNCTION"},{"name":"public.strict_word_similarity_op","return_type":"bool","arguments":"text, text","type":"FUNCTION"},{"name":"public.strict_word_similarity_commutator_op","return_type":"bool","arguments":"text, text","type":"FUNCTION"},{"name":"public.strict_word_similarity_dist_op","return_type":"float4","arguments":"text, text","type":"FUNCTION"},{"name":"public.strict_word_similarity_dist_commutator_op","return_type":"float4","arguments":"text, text","type":"FUNCTION"},{"name":"public.gtrgm_options","return_type":"void","arguments":"internal","type":"FUNCTION"},{"name":"public.show_bigm","return_type":"_text","arguments":"text","type":"FUNCTION"},{"name":"public.bigm_similarity","return_type":"float4","arguments":"text, text","type":"FUNCTION"},{"name":"public.bigm_similarity_op","return_type":"bool","arguments":"text, text","type":"FUNCTION"},{"name":"public.gin_extract_value_bigm","return_type":"internal","arguments":"text, internal","type":"FUNCTION"},{"name":"public.gin_extract_query_bigm","return_type":"internal","arguments":"text, internal, smallint, internal, internal, internal, internal","type":"FUNCTION"},{"name":"public.gin_bigm_consistent","return_type":"bool","arguments":"internal, smallint, text, integer, internal, internal, internal, internal","type":"FUNCTION"},{"name":"public.gin_bigm_compare_partial","return_type":"bool","arguments":"text, text, smallint, internal","type":"FUNCTION"},{"name":"public.bigmtextcmp","return_type":"int4","arguments":"text, text","type":"FUNCTION"},{"name":"public.likequery","return_type":"text","arguments":"text","type":"FUNCTION"},{"name":"public.pg_gin_pending_stats","return_type":"record","arguments":"index regclass, OUT pages integer, OUT tuples bigint","type":"FUNCTION"},{"name":"public.gin_bigm_triconsistent","return_type":"char","arguments":"internal, smallint, text, integer, internal, internal, internal","type":"FUNCTION"},{"name":"public.update_updated_at_column","return_type":"trigger","arguments":"","type":"FUNCTION"},{"name":"public.update_master_updated_at_column","return_type":"trigger","arguments":"","type":"FUNCTION"},{"name":"public.generate_disaster_reports","return_type":"int4","arguments":"num_records integer DEFAULT 100000","type":"FUNCTION"},{"name":"public.generate_disasters_dummy_data","return_type":"record","arguments":"num_records integer DEFAULT 10000, start_date date DEFAULT '2020-01-01'::date, end_date date DEFAULT CURRENT_DATE","type":"FUNCTION"},{"name":"public.get_disasters_statistics","return_type":"record","arguments":"start_date date DEFAULT '2020-01-01'::date, end_date date DEFAULT CURRENT_DATE","type":"FUNCTION"}],"enums":[{"name":"public.disaster_status","values":["completed","in_progress","pending","under_review"]}],"driver":{"name":"postgres","database_version":"PostgreSQL 17.5 (Debian 17.5-1.pgdg120+1) on aarch64-unknown-linux-gnu, compiled by gcc (Debian 12.2.0-14) 12.2.0, 64-bit","meta":{"current_schema":"public","search_paths":["postgres","public"],"dict":{"Functions":"Stored procedures and functions"}}}}
